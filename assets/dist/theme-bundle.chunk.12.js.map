{"version":3,"sources":["webpack:///./assets/js/theme/global/compare-products.js","webpack:///./node_modules/lodash/map.js","webpack:///./assets/js/theme/compare.js"],"names":["updateCounterNav","counter","$link","urlContext","length","is","addClass","attr","compare","join","find","html","removeClass","compareCounter","$compareLink","$","on","$checked","element","value","triggerHandler","event","item","product","currentTarget","$clickedCompareLink","checked","push","index","indexOf","splice","decrementCounter","showAlertModal","preventDefault","module","exports","array","iteratee","result","Array","Compare","onReady","compareProducts","this","context","urls","message","compareRemoveMessage","comparisons","PageManager"],"mappings":"yIAgBA,SAASA,EAAiBC,EAASC,EAAOC,GACf,IAAnBF,EAAQG,QACHF,EAAMG,GAAG,YACVH,EAAMI,SAAS,QAEnBJ,EAAMK,KAAK,OAAWJ,EAAWK,QAAjC,IAA4CP,EAAQQ,KAAK,MACzDP,EAAMQ,KAAK,kBAAkBC,KAAKV,EAAQG,SAE1CF,EAAMU,YAAY,QAIX,aAAUT,GACrB,IAAIU,EAAiB,GAEfC,EAAeC,IAAE,uBAEvBA,IAAE,QAAQC,GAAG,gBAAgB,WACzB,IAAMC,EAAWF,IAAE,QAAQL,KAAK,oCAGhCV,EADAa,EAAiBI,EAASb,OAAS,IAAMa,GAAU,SAAAC,GAAO,OAAIA,EAAQC,SAAS,GAC9CL,EAAcX,MAGnDY,IAAE,QAAQK,eAAe,gBAEzBL,IAAE,QAAQC,GAAG,QAAS,qBAAqB,SAAAK,GACvC,IA/B2BC,EA+BrBC,EAAUF,EAAMG,cAAcL,MAC9BM,EAAsBV,IAAE,uBAE1BM,EAAMG,cAAcE,SAlCGJ,EAmCUC,EAAhBV,EAlCjBc,KAAKL,IATjB,SAA0BrB,EAASqB,GAC/B,IAAMM,EAAQ3B,EAAQ4B,QAAQP,GAE1BM,GAAS,GACT3B,EAAQ6B,OAAOF,EAAO,GAyClBG,CAAiBlB,EAAgBU,GAGrCvB,EAAiBa,EAAgBY,EAAqBtB,MAG1DY,IAAE,QAAQC,GAAG,SAAU,0BAA0B,SAAAK,GAC/BN,IAAEM,EAAMG,eACUd,KAAK,oCAEfN,QAAU,IAC5B4B,YAAe,oDACfX,EAAMY,qBAIdlB,IAAE,QAAQC,GAAG,QAAS,uBAAuB,WAGzC,GAF6BD,IAAE,QAAQL,KAAK,oCAEnBN,QAAU,EAE/B,OADA4B,YAAe,qDACR,O,kBClDnBE,EAAOC,QAXP,SAAkBC,EAAOC,GAKvB,IAJA,IAAIT,GAAS,EACTxB,EAAkB,MAATgC,EAAgB,EAAIA,EAAMhC,OACnCkC,EAASC,MAAMnC,KAEVwB,EAAQxB,GACfkC,EAAOV,GAASS,EAASD,EAAMR,GAAQA,EAAOQ,GAEhD,OAAOE,I,6NCZYE,E,yKACjBC,QAAA,WAAU,WACNC,YAAgBC,KAAKC,QAAQC,MAE7B,IAAMC,EAAUH,KAAKC,QAAQG,qBAE7BhC,IAAE,QAAQC,GAAG,QAAS,4BAA4B,SAAAK,GAC1C,EAAKuB,QAAQI,YAAY5C,QAAU,IACnC4B,YAAec,GACfzB,EAAMY,sB,GATegB","file":"theme-bundle.chunk.12.js","sourcesContent":["import $ from 'jquery';\nimport _ from 'lodash';\nimport { showAlertModal } from './modal';\n\nfunction decrementCounter(counter, item) {\n    const index = counter.indexOf(item);\n\n    if (index > -1) {\n        counter.splice(index, 1);\n    }\n}\n\nfunction incrementCounter(counter, item) {\n    counter.push(item);\n}\n\nfunction updateCounterNav(counter, $link, urlContext) {\n    if (counter.length !== 0) {\n        if (!$link.is('visible')) {\n            $link.addClass('show');\n        }\n        $link.attr('href', `${urlContext.compare}/${counter.join('/')}`);\n        $link.find('span.countPill').html(counter.length);\n    } else {\n        $link.removeClass('show');\n    }\n}\n\nexport default function (urlContext) {\n    let compareCounter = [];\n\n    const $compareLink = $('a[data-compare-nav]');\n\n    $('body').on('compareReset', () => {\n        const $checked = $('body').find('input[name=\"products\\[\\]\"]:checked');\n\n        compareCounter = $checked.length ? _.map($checked, element => element.value) : [];\n        updateCounterNav(compareCounter, $compareLink, urlContext);\n    });\n\n    $('body').triggerHandler('compareReset');\n\n    $('body').on('click', '[data-compare-id]', event => {\n        const product = event.currentTarget.value;\n        const $clickedCompareLink = $('a[data-compare-nav]');\n\n        if (event.currentTarget.checked) {\n            incrementCounter(compareCounter, product);\n        } else {\n            decrementCounter(compareCounter, product);\n        }\n\n        updateCounterNav(compareCounter, $clickedCompareLink, urlContext);\n    });\n\n    $('body').on('submit', '[data-product-compare]', event => {\n        const $this = $(event.currentTarget);\n        const productsToCompare = $this.find('input[name=\"products\\[\\]\"]:checked');\n\n        if (productsToCompare.length <= 1) {\n            showAlertModal('You must select at least two products to compare');\n            event.preventDefault();\n        }\n    });\n\n    $('body').on('click', 'a[data-compare-nav]', () => {\n        const $clickedCheckedInput = $('body').find('input[name=\"products\\[\\]\"]:checked');\n\n        if ($clickedCheckedInput.length <= 1) {\n            showAlertModal('You must select at least two products to compare');\n            return false;\n        }\n    });\n}\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","import PageManager from './page-manager';\nimport $ from 'jquery';\nimport { showAlertModal } from './global/modal';\nimport compareProducts from './global/compare-products';\n\nexport default class Compare extends PageManager {\n    onReady() {\n        compareProducts(this.context.urls);\n\n        const message = this.context.compareRemoveMessage;\n\n        $('body').on('click', '[data-comparison-remove]', event => {\n            if (this.context.comparisons.length <= 2) {\n                showAlertModal(message);\n                event.preventDefault();\n            }\n        });\n    }\n}\n"],"sourceRoot":""}